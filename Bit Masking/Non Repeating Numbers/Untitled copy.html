<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2113.6">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 10.0px 0.0px; font: 17.0px Helvetica; color: #fb02ff; -webkit-text-stroke: #ffffff; background-color: #ffffff}
    p.p2 {margin: 0.0px 0.0px 10.0px 0.0px; font: 17.0px Helvetica; color: #000000; -webkit-text-stroke: #ffffff; background-color: #ffffff}
    p.p3 {margin: 0.0px 0.0px 10.0px 0.0px; font: 17.0px Helvetica; color: #000000; -webkit-text-stroke: #ffffff; background-color: #ffffff; min-height: 20.0px}
    p.p4 {margin: 0.0px 0.0px 10.0px 0.0px; font: 17.0px Helvetica; color: #558e28; -webkit-text-stroke: #ffffff; background-color: #ffffff}
    p.p5 {margin: 0.0px 0.0px 10.0px 0.0px; font: 17.0px Helvetica; color: #558e28; -webkit-text-stroke: #ffffff; background-color: #ffffff; min-height: 20.0px}
    p.p6 {margin: 0.0px 0.0px 10.0px 0.0px; font: 17.0px Helvetica; color: #d90b05; -webkit-text-stroke: #ffffff; background-color: #ffffff}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; text-align: center; font: 17.0px Helvetica; color: #000000; -webkit-text-stroke: #ffffff; background-color: #ffffff; min-height: 20.0px}
    span.s1 {font-kerning: none; color: #000000}
    span.s2 {font-kerning: none}
    span.s3 {text-decoration: underline ; font-kerning: none}
    span.s4 {font: 13.0px Helvetica; font-kerning: none}
    span.s5 {font: 13.0px 'Kohinoor Bangla'; font-kerning: none}
    span.s6 {font: 13.0px 'Kohinoor Bangla'; font-kerning: none; color: #18191b; background-color: #f6f7f9; -webkit-text-stroke: 0px #18191b}
    span.s7 {font-kerning: none; color: #fb02ff}
    span.s8 {font-kerning: none; color: #fc4940}
    span.s9 {text-decoration: underline ; font-kerning: none; color: #fb02ff}
    span.s10 {font-kerning: none; color: #fc2712}
    span.s11 {font-kerning: none; color: #558e28}
    span.s12 {font-kerning: none; color: #a40803}
    span.s13 {font-kerning: none; color: #5c650a}
    span.s14 {font-kerning: none; color: #fb0207}
    span.Apple-tab-span {white-space:pre}
  </style>
</head>
<body>
<p class="p1"><span class="s1"><b>1.</b>   </span><span class="s2"> </span><span class="s3">The first step is to do XOR of all elements present in array</span><span class="s2">.<span class="Apple-converted-space"> </span></span></p>
<p class="p2"><span class="s2"><span class="Apple-tab-span">	</span>XOR of all elements gives us XOR of x and y because of the following properties of XOR operation. <br>
        1) XOR of any number n with itself gives us 0, i.e., n ^ n = 0 <br>
        2) XOR of any number n with 0 gives us n, i.e., n ^ 0 = n <br>
        3) XOR is cumulative</span><span class="s4">(</span><span class="s5">ক্রমবর্ধমান</span><span class="s4">) </span><span class="s2">and associative</span><span class="s4">(</span><span class="s6">সহযোগী)</span><span class="s2">.</span></p>
<p class="p2"><span class="s2">        So we have XOR of x and y after the first step, in decimal form. E.g. 5 ^ 6 returns 3, which is computed in bit form as 101 ^ 110 = 011. Let the ‘value’ of XOR be xor 2.<span class="Apple-converted-space"> </span></span></p>
<p class="p2"><span class="s2"><span class="Apple-tab-span">	</span>Every </span><span class="s3">Set bit**</span><span class="s2"> in xor2 indicates that ‘the corresponding bits in x and y have values different from each other’ (XOR property- ‘1 when bits are different’). </span></p>
<p class="p3"><span class="s2"></span><br></p>
<p class="p2"><span class="s7">**</span><span class="s2"> ( </span><span class="s3">Set-bits</span><span class="s2"> are 1’s in binary form. E.g. 101 has 2 set bits(1’s), at 0th index and at 2nd index. )</span></p>
<p class="p4"><span class="s1"><span class="Apple-tab-span">	</span>For example, if x = 6 (0110) and y = 15 (1111), then xor2 will be (1001), </span><span class="s2">the two set bits in xor2 indicate that the corresponding bits in x and y are different,</span><span class="s8"> at 0th index and at 3rd index <span class="Apple-tab-span">	</span>both.</span><span class="s1"> </span></p>
<p class="p3"><span class="s2"></span><br></p>
<p class="p2"><span class="s2"><b>2.</b>    </span><span class="s9">In the second step, we pick a set bit of xor2.</span><span class="s2"> Idea is to use the fact that xor2 is ‘1’ in indexes where bits of x and y are different. So we separate x and y to different groups, along with <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>rest of the numbers of list, based on whether the number has same set-bit or not.  </span></p>
<p class="p2"><span class="s2">     <span class="Apple-tab-span">	</span>We choose the rightmost set bit of xor2 as it is easy to get rightmost set bit of a number (bit magic). </span><span class="s10">If we <b>bitwise AND</b> a number with its negative counterpart, we get rightmost set bit. <span class="Apple-tab-span">	</span></span><span class="s2">(just an observation based property, do remember). So, </span><span class="s3">(xor2) &amp; (-xor2)</span><span class="s2"> will give us right set bit. Find (-number) by 2’s complement, that is ((1’s complement) +1 ). It can also be written <span class="Apple-tab-span">	</span>as (~number)+1.  This operation is : </span><span class="s11">bit_set = num &amp; (~(num - 1));</span></p>
<p class="p5"><span class="s2"></span><br></p>
<p class="p6"><span class="s1">   <span class="Apple-tab-span">	</span>a)   </span><span class="s12"> </span><span class="s3">Example of 2’s complement</span><span class="s2"> :</span></p>
<p class="p2"><span class="s2"><span class="Apple-tab-span">	</span> 7 is </span><span class="s3">00111</span><span class="s2">(any no. of preceding zeroes). 1’s complement is obtained by flipping bits , 11000. Then add 1, so 2’s complement of 7 is </span><span class="s3">11001</span><span class="s2">. Since</span><span class="s13"> first bit(carry bit or sign bit) is 1, it’s a <span class="Apple-tab-span">	</span>negative no.  (-1)*16 + 1*8 +1*1  =  -7</span></p>
<p class="p6"><span class="s1">   <span class="Apple-tab-span">	</span>b)    </span><span class="s3">Example of (number) &amp; (-number) = right set bit</span><span class="s2"> :</span></p>
<p class="p2"><span class="s2"> <span class="Apple-tab-span">	</span>Continuing example of 7,  7 is 00111 and -7 is 11001 , 7 &amp; -7 is  00001. So, rightmost set bit of 7 is 1.</span></p>
<p class="p2"><span class="s2"> <span class="Apple-tab-span">	</span>Another example with 12 &amp; -12:</span></p>
<p class="p2"><span class="s2"> <span class="Apple-tab-span">	</span>12 is 01100 ** and -12 is calculated by flipping digits and adding 1. So, 10011 and adding 1 gives 10100.  12 &amp; -12,  01100 &amp; 10100  gives  00100 as set bit, that is returned as 4 in <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>decimal system, also referred as <b>Set-bit Number</b> here.</span></p>
<p class="p2"><span class="s2"> </span><span class="s7">**</span><span class="s2"> (since number is 32 bit, there are 28 0’s left of ‘left set-bit’, but taking only a few is okay. Positive numbers have leftmost bit 0 and negative have 1 )</span></p>
<p class="p2"><span class="s2"><b>3.</b>   </span><span class="s7"> </span><span class="s9">In third step, we separate x and y in different groups</span><span class="s7"> </span><span class="s2">: We now know that for selected set bit index, x and y have different corresponding bits. If we AND all numbers in list with set bit, <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>some will give 0 and others will give 1. We will put all numbers giving zeroes in one group and ones in another. </span><span class="s14">x and y will fall in different groups.</span><span class="s2"> </span></p>
<p class="p2"><span class="s3"><span class="Apple-tab-span">	</span>Explained with example:-</span></p>
<p class="p2"><span class="s2"><span class="Apple-tab-span">	</span>E.g. arr = [4, 2, 4, 10, 2, 3, 3, 12] ,  </span></p>
<p class="p7"><span class="s2"></span><br></p>
<p class="p2"><span class="s2"><span class="Apple-tab-span">	</span></span><span class="s14">Step 1:</span><span class="s2"> XOR of all in array will cancel all repeating nos. 10 ^12 will be ans. 1010 ^ 1100 will be 0110 that is xor=6. </span></p>
<p class="p2"><span class="s2"><span class="Apple-tab-span">	</span></span><span class="s14">Step 2: </span><span class="s2">Set bit is 10 from 01</span><span class="s3">10</span><span class="s2"> from visualization. (number) &amp; (-number) is also a quick way to find right set bit.xor &amp; (-xor) can be coded directly. 6 is 0110 and finding -6 by flipping<span class="Apple-converted-space"> <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>     </span>digits and adding 1, 1001 +1 = 1010.So 6 AND -6 is essentially 0110 &amp; 1010, that is 00</span><span class="s3">10</span><span class="s2"> i.e. 2 – Set-bit Number.</span></p>
<p class="p2"><span class="s2"><span class="Apple-tab-span">	</span></span><span class="s14">Step 3.</span><span class="s2"> AND of all in list with 2 (Set bit no.) will give us numbers that give either 1 or 0, and we make groups.[4, 4, 12] and [2, 10, 2, 3, 3], giving 0 and 1 respectively on AND with Set-<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span> <span class="Apple-converted-space">    </span>bit number.</span></p>
<p class="p2"><span class="s2"><span class="Apple-tab-span">	</span></span><span class="s14">Step 4. </span><span class="s2">XOR of 1st group will give us x=12, x ^ y is known from 1st step i.e. 6. x ^(x ^y) will give us y. 12 ^6 is 10.</span></p>
<p class="p2"><span class="s2">           <span class="Apple-tab-span">	</span><span class="Apple-converted-space">      </span>x=12, y=10</span></p>
<p class="p2"><span class="s2">This step works because of the same properties of XOR. All the occurrences of a number will go in same set. XOR of all occurrences of a number which occur even number of times will result in 0 in its set. And the xor of a set will be one of the odd occurring elements. </span></p>
</body>
</html>
